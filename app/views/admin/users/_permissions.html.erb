<%= form_for [:admin, @user], html: { class: 'form-horizontal user-form' } do |f| %>
  <div class="form-group">
    <label for="title" class="col-sm-2 control-label">用户信息</label>
    <div class="col-sm-10">
      <div style="padding: 6px 0;"><%= @user.nickname %> (<%= @user.mobile_part %>)</div>
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">权限</label>
    <div class="col-sm-10">
      <div style="background: #fafafa; padding: 24px;">
        <% @books.each do |book| %>
          <label class="checkbox-inline">
            <input type="checkbox" name="user[label_ids][]" value="<%= book.id %>" <%= (@user.label_ids.include?(book.id)) ? 'checked' : '' %>>
            <%= book.name %>
          </label>
        <% end -%>
        <hr>
        <% @subjects.each do |subject| %>
          <label class="checkbox-inline">
            <input type="checkbox" name="user[label_ids][]" value="<%= subject.id %>" <%= (@user.label_ids.include?(subject.id)) ? 'checked' : '' %>>
            <%= subject.name %>
          </label>
        <% end -%>
        <hr>
        <% @difficulties.each do |diff| %>
          <label class="checkbox-inline">
            <input type="checkbox" name="user[label_ids][]" value="<%= diff.id %>" <%= (@user.label_ids.include?(diff.id)) ? 'checked' : '' %>>
            <%= diff.name %>
          </label>
        <% end -%>
      </div>
    </div>
  </div>

  <div class="form-group">
    <label class="col-sm-2 control-label">有效期</label>
    <div class="col-sm-4">
      <%= f.text_field :valid_to, class: 'form-control', id: 'datepicker' %>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-10 col-sm-offset-2">
      <%= f.submit '保存', class: 'btn btn-primary' %>
    </div>
  </div>

<% end %>